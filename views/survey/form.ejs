<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title || 'แบบสอบถาม' %></title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
  <link rel="stylesheet" href="/colors.css">
  <link rel="stylesheet" href="/survey/home.css">
  <link rel="stylesheet" href="/survey/form.css">
</head>
<body>
  <!-- Desktop Navigation -->
  <nav class="navbar navbar-light bg-white border-bottom sticky-top desktop-navbar">
    <div class="container-fluid px-3 px-md-4">
      <a class="navbar-brand fw-bold text-primary" href="/survey/home">
        <i class="bi bi-mortarboard-fill me-2"></i>ระบบแบบสอบถาม
      </a>
      <div class="d-flex align-items-center gap-3">
        <div class="progress-indicator">
          <span class="text-muted">ความคืบหน้า:</span>
          <span class="fw-bold text-primary ms-2" id="progressText">0/15</span>
        </div>
        <a href="/survey/questionnaire" class="btn btn-sm btn-outline-secondary">
          <i class="bi bi-x-lg me-1"></i>ออก
        </a>
      </div>
    </div>
  </nav>

  <!-- Mobile Bottom Navigation -->
  <nav class="mobile-bottom-nav">
    <a href="/survey/home" class="mobile-nav-item">
      <i class="bi bi-house-door"></i>
      <span>หน้าหลัก</span>
    </a>
    <a href="/survey/questionnaire" class="mobile-nav-item active">
      <i class="bi bi-clipboard-check-fill"></i>
      <span>แบบสอบถาม</span>
    </a>
    <a href="/survey/settings" class="mobile-nav-item">
      <i class="bi bi-gear"></i>
      <span>ตั้งค่า</span>
    </a>
    <a href="/login" class="mobile-nav-item">
      <i class="bi bi-box-arrow-right"></i>
      <span>ออกจากระบบ</span>
    </a>
  </nav>

  <!-- Main Content -->
  <main class="container py-4 py-md-5">
    <!-- Survey Header -->
    <div class="row mb-4">
      <div class="col-12">
        <div class="survey-header">
          <div class="survey-header-icon">
            <i class="bi bi-<%= survey?.icon || 'mortarboard' %>"></i>
          </div>
          <div class="survey-header-content">
            <h1 class="survey-header-title"><%= survey?.title || 'แบบสอบถาม' %></h1>
            <p class="survey-header-description"><%= survey?.description || 'กรุณาตอบคำถามตามความเป็นจริง' %></p>
            <div class="survey-header-meta">
              <span><i class="bi bi-question-circle me-1"></i><%= survey?.questionCount || '15' %> คำถาม</span>
              <span><i class="bi bi-clock me-1"></i>ใช้เวลาประมาณ <%= survey?.duration || '5' %> นาที</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Progress Bar -->
    <div class="row mb-4">
      <div class="col-12">
        <div class="progress-bar-container">
          <div class="progress">
            <div class="progress-bar" role="progressbar" style="width: 0%" id="progressBar"></div>
          </div>
          <small class="text-muted mt-2 d-block text-center">กรุณาตอบคำถามให้ครบทุกข้อก่อนส่ง</small>
        </div>
      </div>
    </div>

    <!-- Survey Form -->
    <form id="surveyForm">
      <div class="row g-4">
        <!-- Question 1: Rating Scale (1-5) -->
        <div class="col-12">
          <div class="question-card" data-question="1">
            <div class="question-header">
              <span class="question-number">คำถามที่ 1</span>
              <span class="badge bg-primary">มาตราส่วน</span>
            </div>
            <div class="question-body">
              <h6 class="question-title">ท่านมีความพึงพอใจต่อการเรียนการสอนโดยรวมในระดับใด?</h6>
              <div class="rating-scale">
                <label class="rating-option">
                  <input type="radio" name="q1" value="1" required>
                  <span class="rating-box">
                    <span class="rating-number">1</span>
                    <span class="rating-label">น้อยที่สุด</span>
                  </span>
                </label>
                <label class="rating-option">
                  <input type="radio" name="q1" value="2" required>
                  <span class="rating-box">
                    <span class="rating-number">2</span>
                    <span class="rating-label">น้อย</span>
                  </span>
                </label>
                <label class="rating-option">
                  <input type="radio" name="q1" value="3" required>
                  <span class="rating-box">
                    <span class="rating-number">3</span>
                    <span class="rating-label">ปานกลาง</span>
                  </span>
                </label>
                <label class="rating-option">
                  <input type="radio" name="q1" value="4" required>
                  <span class="rating-box">
                    <span class="rating-number">4</span>
                    <span class="rating-label">มาก</span>
                  </span>
                </label>
                <label class="rating-option">
                  <input type="radio" name="q1" value="5" required>
                  <span class="rating-box">
                    <span class="rating-number">5</span>
                    <span class="rating-label">มากที่สุด</span>
                  </span>
                </label>
              </div>
            </div>
          </div>
        </div>

        <!-- Question 2: Yes/No -->
        <div class="col-12">
          <div class="question-card" data-question="2">
            <div class="question-header">
              <span class="question-number">คำถามที่ 2</span>
              <span class="badge bg-success">ใช่/ไม่</span>
            </div>
            <div class="question-body">
              <h6 class="question-title">อาจารย์ผู้สอนมีความชัดเจนในการอธิบายเนื้อหา?</h6>
              <div class="yes-no-options">
                <label class="yes-no-option">
                  <input type="radio" name="q2" value="yes" required>
                  <span class="yes-no-box yes-box">
                    <i class="bi bi-check-circle"></i>
                    <span>ใช่</span>
                  </span>
                </label>
                <label class="yes-no-option">
                  <input type="radio" name="q2" value="no" required>
                  <span class="yes-no-box no-box">
                    <i class="bi bi-x-circle"></i>
                    <span>ไม่ใช่</span>
                  </span>
                </label>
              </div>
            </div>
          </div>
        </div>

        <!-- Question 3: Multiple Choice -->
        <div class="col-12">
          <div class="question-card" data-question="3">
            <div class="question-header">
              <span class="question-number">คำถามที่ 3</span>
              <span class="badge bg-info">ตัวเลือก</span>
            </div>
            <div class="question-body">
              <h6 class="question-title">ท่านเข้าเรียนครบทุกครั้งหรือไม่?</h6>
              <div class="choice-options">
                <label class="choice-option">
                  <input type="radio" name="q3" value="always" required>
                  <span class="choice-box">
                    <i class="bi bi-circle"></i>
                    <span>เข้าเรียนครบทุกครั้ง</span>
                  </span>
                </label>
                <label class="choice-option">
                  <input type="radio" name="q3" value="mostly" required>
                  <span class="choice-box">
                    <i class="bi bi-circle"></i>
                    <span>เข้าเรียนส่วนใหญ่ (ขาด 1-2 ครั้ง)</span>
                  </span>
                </label>
                <label class="choice-option">
                  <input type="radio" name="q3" value="sometimes" required>
                  <span class="choice-box">
                    <i class="bi bi-circle"></i>
                    <span>เข้าเรียนบางครั้ง (ขาด 3-5 ครั้ง)</span>
                  </span>
                </label>
                <label class="choice-option">
                  <input type="radio" name="q3" value="rarely" required>
                  <span class="choice-box">
                    <i class="bi bi-circle"></i>
                    <span>เข้าเรียนน้อย (ขาดมากกว่า 5 ครั้ง)</span>
                  </span>
                </label>
              </div>
            </div>
          </div>
        </div>

        <!-- Question 4: Short Text -->
        <div class="col-12">
          <div class="question-card" data-question="4">
            <div class="question-header">
              <span class="question-number">คำถามที่ 4</span>
              <span class="badge bg-warning">คำตอบสั้น</span>
            </div>
            <div class="question-body">
              <h6 class="question-title">สิ่งที่ประทับใจที่สุดในการเรียนวิชานี้คืออะไร?</h6>
              <textarea class="form-control" name="q4" rows="3" placeholder="กรุณาระบุคำตอบของคุณ..." required></textarea>
              <small class="text-muted">กรุณาตอบอย่างน้อย 10 ตัวอักษร</small>
            </div>
          </div>
        </div>

        <!-- Question 5: Rating Scale -->
        <div class="col-12">
          <div class="question-card" data-question="5">
            <div class="question-header">
              <span class="question-number">คำถามที่ 5</span>
              <span class="badge bg-primary">มาตราส่วน</span>
            </div>
            <div class="question-body">
              <h6 class="question-title">ความเหมาะสมของเนื้อหาวิชาเรียนกับเวลาที่กำหนด?</h6>
              <div class="rating-scale">
                <label class="rating-option">
                  <input type="radio" name="q5" value="1" required>
                  <span class="rating-box">
                    <span class="rating-number">1</span>
                    <span class="rating-label">ไม่เหมาะสม</span>
                  </span>
                </label>
                <label class="rating-option">
                  <input type="radio" name="q5" value="2" required>
                  <span class="rating-box">
                    <span class="rating-number">2</span>
                    <span class="rating-label">ค่อนข้างไม่เหมาะสม</span>
                  </span>
                </label>
                <label class="rating-option">
                  <input type="radio" name="q5" value="3" required>
                  <span class="rating-box">
                    <span class="rating-number">3</span>
                    <span class="rating-label">ปานกลาง</span>
                  </span>
                </label>
                <label class="rating-option">
                  <input type="radio" name="q5" value="4" required>
                  <span class="rating-box">
                    <span class="rating-number">4</span>
                    <span class="rating-label">ค่อนข้างเหมาะสม</span>
                  </span>
                </label>
                <label class="rating-option">
                  <input type="radio" name="q5" value="5" required>
                  <span class="rating-box">
                    <span class="rating-number">5</span>
                    <span class="rating-label">เหมาะสมมาก</span>
                  </span>
                </label>
              </div>
            </div>
          </div>
        </div>

        <!-- Question 6: Yes/No -->
        <div class="col-12">
          <div class="question-card" data-question="6">
            <div class="question-header">
              <span class="question-number">คำถามที่ 6</span>
              <span class="badge bg-success">ใช่/ไม่</span>
            </div>
            <div class="question-body">
              <h6 class="question-title">ท่านจะแนะนำวิชานี้ให้เพื่อนหรือไม่?</h6>
              <div class="yes-no-options">
                <label class="yes-no-option">
                  <input type="radio" name="q6" value="yes" required>
                  <span class="yes-no-box yes-box">
                    <i class="bi bi-check-circle"></i>
                    <span>ใช่</span>
                  </span>
                </label>
                <label class="yes-no-option">
                  <input type="radio" name="q6" value="no" required>
                  <span class="yes-no-box no-box">
                    <i class="bi bi-x-circle"></i>
                    <span>ไม่ใช่</span>
                  </span>
                </label>
              </div>
            </div>
          </div>
        </div>

        <!-- Question 7: Short Text -->
        <div class="col-12">
          <div class="question-card" data-question="7">
            <div class="question-header">
              <span class="question-number">คำถามที่ 7</span>
              <span class="badge bg-warning">คำตอบสั้น</span>
            </div>
            <div class="question-body">
              <h6 class="question-title">ข้อเสนอแนะเพิ่มเติมเพื่อการพัฒนาการเรียนการสอน</h6>
              <textarea class="form-control" name="q7" rows="4" placeholder="กรุณาระบุข้อเสนอแนะของคุณ (ถ้ามี)"></textarea>
            </div>
          </div>
        </div>
      </div>

      <!-- Submit Section -->
      <div class="row mt-5">
        <div class="col-12">
          <div class="submit-section">
            <div class="submit-info">
              <i class="bi bi-info-circle text-primary me-2"></i>
              <span>กรุณาตรวจสอบคำตอบของคุณให้ครบถ้วนก่อนส่ง</span>
            </div>
            <div class="submit-actions">
              <a href="/survey/questionnaire" class="btn btn-outline-secondary btn-lg">
                <i class="bi bi-arrow-left me-2"></i>ย้อนกลับ
              </a>
              <button type="submit" class="btn btn-primary btn-lg">
                <i class="bi bi-send me-2"></i>ส่งแบบสอบถาม
              </button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </main>

  <!-- Success Modal -->
  <div class="modal fade" id="successModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body text-center p-5">
          <div class="success-icon mb-3">
            <i class="bi bi-check-circle-fill text-success"></i>
          </div>
          <h5 class="mb-3">ส่งแบบสอบถามสำเร็จ!</h5>
          <p class="text-muted mb-4">ขอบคุณสำหรับความคิดเห็นของคุณ</p>
          <a href="/survey/questionnaire" class="btn btn-primary">
            กลับไปหน้าแบบสอบถาม
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="mt-auto py-4 border-top bg-white">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <p class="text-muted mb-0 small">© 2025 ระบบแบบสอบถามออนไลน์ - สงวนลิขสิทธิ์</p>
        </div>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/survey/home.js"></script>
  <script src="/survey/form.js"></script>
</body>
</html>
